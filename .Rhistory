state = "New Jersey",
county = NJcounties,
variables = "B01003_001E",
geometry = TRUE,
year = 2022)
View(NJWide)
# single mom variable
NYdata <- get_acs(geography = "tract",
state = "New York",
county = NYcounties,
variables = "B11003_016E, B01003_001E",
geometry = TRUE,
year = 2022)
NYcounties <- c("Kings", "Queens", "New York", "Bronx",
"Richmond", "Westchester", "Rockland", "Putnam", "Suffolk", "Nassau")
NJcounties <- c("Bergen", "Hudson", "Passaic", "Middlesex",
"Monmouth", "Ocean", "Somerset", "Essex",
"Union", "Morris", "Sussex", "Hunterdon")
# single mom variable
NYdata <- get_acs(geography = "tract",
state = "New York",
county = NYcounties,
variables = "B11003_016E, B01003_001E",
geometry = TRUE,
year = 2022)
# single mom variable
NYdata <- get_acs(geography = "tract",
state = "New York",
county = NYcounties,
variables = "B11003_016E",
geometry = TRUE,
year = 2022)
NJdata <- get_acs(geography = "tract",
state = "New Jersey",
county = NJcounties,
variables = "B11003_016E, B01003_001E",
geometry = TRUE,
year = 2022,
output = "wide")
NJdata <- get_acs(geography = "tract",
state = "New Jersey",
county = NJcounties,
variables = c("B11003_016E, B01003_001E"),
geometry = TRUE,
year = 2022,
output = "wide")
NJdata <- get_acs(geography = "tract",
state = "New Jersey",
county = NJcounties,
variables = c("B11003_016E", "B01003_001E"),
geometry = TRUE,
year = 2022,
output = "wide")
View(NJdata)
# single mom variable
NYdata <- get_acs(geography = "tract",
state = "New York",
county = NYcounties,
variables = c("B11003_016E", "B01003_001E"),
geometry = TRUE,
year = 2022)
View(NJdata)
View(NYdata)
# single mom variable
NYdata <- get_acs(geography = "tract",
state = "New York",
county = NYcounties,
variables = c("B11003_016E", "B01003_001E"),
geometry = TRUE,
year = 2022,
output = "wide")
colnames(NYdata)[colnames(NYdata) == "estimate"] = "singlemom_count"
colnames(NJdata)[colnames(NJdata) == "estimate"] = "singlemom_count"
colnames(NYWide)[colnames(NYWide) == "B01003_001E"] = "population"
colnames(NJWide)[colnames(NJWide) == "B01003_001E"] = "population"
colnames(NYdata)[colnames(NYdata) == "B11003_016E"] = "singlemom_count"
colnames(NJdata)[colnames(NJdata) == "B11003_016E"] = "singlemom_count"
colnames(NYdata)[colnames(NYdata) == "B01003_001E"] = "population"
colnames(NJdata)[colnames(NJdata) == "B01003_001E"] = "population"
ls(NYdata)
ls(NJdata)
NYdata <- NYdata %>% select(-c(B01003_001M, B11003_016M))
NJdata <- NJdata %>% select(-c(B01003_001M, B11003_016M))
colnames(NYdata)[colnames(NYdata) == "B11003_016E"] = "NYsinglemom_count"
colnames(NJdata)[colnames(NJdata) == "B11003_016E"] = "NJsinglemom_count"
colnames(NYdata)[colnames(NYdata) == "B01003_001E"] = "NYpopulation"
colnames(NJdata)[colnames(NJdata) == "B01003_001E"] = "NJpopulation"
NYcounties <- c("Kings", "Queens", "New York", "Bronx",
"Richmond", "Westchester", "Rockland", "Putnam", "Suffolk", "Nassau")
NJcounties <- c("Bergen", "Hudson", "Passaic", "Middlesex",
"Monmouth", "Ocean", "Somerset", "Essex",
"Union", "Morris", "Sussex", "Hunterdon")
# single mom variable
NYdata <- get_acs(geography = "tract",
state = "New York",
county = NYcounties,
variables = c("B11003_016E", "B01003_001E"),
geometry = TRUE,
year = 2022,
output = "wide")
NJdata <- get_acs(geography = "tract",
state = "New Jersey",
county = NJcounties,
variables = c("B11003_016E", "B01003_001E"),
geometry = TRUE,
year = 2022,
output = "wide")
colnames(NYdata)[colnames(NYdata) == "B11003_016E"] = "NYsinglemom_count"
colnames(NJdata)[colnames(NJdata) == "B11003_016E"] = "NJsinglemom_count"
colnames(NYdata)[colnames(NYdata) == "B01003_001E"] = "NYpopulation"
colnames(NJdata)[colnames(NJdata) == "B01003_001E"] = "NJpopulation"
ls(NYdata)
ls(NJdata)
NYdata <- NYdata %>% select(-c(B01003_001M, B11003_016M))
NJdata <- NJdata %>% select(-c(B01003_001M, B11003_016M))
View(NJdata)
View(NYdata)
NYcounties <- c("Kings", "Queens", "New York", "Bronx",
"Richmond", "Westchester", "Rockland", "Putnam", "Suffolk", "Nassau")
NJcounties <- c("Bergen", "Hudson", "Passaic", "Middlesex",
"Monmouth", "Ocean", "Somerset", "Essex",
"Union", "Morris", "Sussex", "Hunterdon")
# single mom variable
NYdata <- get_acs(geography = "tract",
state = "New York",
county = NYcounties,
variables = c("B11003_016E", "B01003_001E"),
geometry = TRUE,
year = 2022,
output = "wide")
NJdata <- get_acs(geography = "tract",
state = "New Jersey",
county = NJcounties,
variables = c("B11003_016E", "B01003_001E"),
geometry = TRUE,
year = 2022,
output = "wide")
View(NJdata)
View(NYdata)
colnames(NYdata)[colnames(NYdata) == "B11003_016E"] = "singlemom_count"
colnames(NJdata)[colnames(NJdata) == "B11003_016E"] = "singlemom_count"
colnames(NYdata)[colnames(NYdata) == "B01003_001E"] = "population"
colnames(NJdata)[colnames(NJdata) == "B01003_001E"] = "population"
ls(NYdata)
ls(NJdata)
NYdata <- NYdata %>% select(-c(B01003_001M, B11003_016M))
NJdata <- NJdata %>% select(-c(B01003_001M, B11003_016M))
# normalizing
NYdata$singlemom_pct <- (NYdata$singlemom_count / NYdata$population) * 100 # percentage of single moms
NJdata$singlemom_pct <- (NJdata$singlemom_count / NJdata$population) * 100 # percentage of single moms
# append into one dataframe
metroArea <- rbind(NYdata, NJdata)
ls(metroArea)
View(metroArea)
hist(metroArea$singlemom_pct)
hist(metroArea$singlemom_pct, breaks = 100, main = "Single moms in NY metro area", xlab = "% of single moms per census tract")
mean(metroArea$singlemom_pct) # 2.55
median(metroArea$singlemom_pct) # 1.82
sd(metroArea$singlemom_pct) # 2.48
var(metroArea$singlemom_pct) # 6.16
kurtosis(metroArea$singlemom_pct) # 7.29
# histogram for new york metro area
metroArea <- na.omit(metroArea)
hist(metroArea$singlemom_pct, breaks = 100, main = "Single moms in NY metro area", xlab = "% of single moms per census tract")
mean(metroArea$singlemom_pct) # 2.55
median(metroArea$singlemom_pct) # 1.82
sd(metroArea$singlemom_pct) # 2.48
var(metroArea$singlemom_pct) # 6.16
kurtosis(metroArea$singlemom_pct) # 7.29
library(moments)
kurtosis(metroArea$singlemom_pct) # 7.29
# map of ny metro area
tm_shape(metroArea) + tm_fill("singlemom_pct", style = "sd") + tm_borders("antiquewhite2")
# map of ny metro area
tm_shape(metroArea) + tm_fill("singlemom_pct", style = "sd")
# map of ny metro area
tm_shape(metroArea) + tm_fill("singlemom_pct", style = "sd") + tm_borders("white")
# map of ny metro area
tm_shape(metroArea) + tm_fill("singlemom_pct", style = "sd") + tm_borders("antiquewhite")
# map of ny metro area
tm_shape(metroArea) + tm_fill("singlemom_pct", style = "sd") + tm_borders("antiquewhite", lwd=1)
# map of ny metro area
tm_shape(metroArea) + tm_fill("singlemom_pct", style = "sd") + tm_borders("antiquewhite", lwd=.5)
# map of ny metro area
tm_shape(metroArea) + tm_fill("singlemom_pct", style = "sd") + tm_borders("antiquewhite")
# map of ny metro area
tm_shape(metroArea) + tm_fill("singlemom_pct", style = "sd") + tm_borders("antiquewhite" alpha=.5)
# map of ny metro area
tm_shape(metroArea) + tm_fill("singlemom_pct", style = "sd") + tm_borders("antiquewhite", alpha=.5)
# map of ny metro area
tm_shape(metroArea) + tm_fill("singlemom_pct", style = "sd") + tm_borders("antiquewhite", alpha=.25)
# map of ny metro area
tm_shape(metroArea) + tm_fill("singlemom_pct", style = "sd")
# map of ny metro area
tm_shape(brooklyn) + tm_fill("singlemom_pct", style = "jenks")
# map of ny metro area
tm_shape(metroArea) + tm_fill("singlemom_pct", style = "jenks")
tm_shape(metroArea) + tm_fill("singlemom_pct", style = "equal")
tm_shape(metroArea) + tm_fill("singlemom_pct", style = "quantile")
tm_shape(metroArea) + tm_fill("singlemom_pct", style = "sd")
tm_shape(metroArea) + tm_fill("singlemom_pct", style = "equal")
# map of ny metro area
metroArea <- metroArea %>% filter(GEOID != 36005033400)
tm_shape(metroArea) + tm_fill("singlemom_pct", style = "jenks")
tm_shape(metroArea) + tm_fill("singlemom_pct", style = "fisher")
tm_shape(metroArea) + tm_fill("singlemom_pct", style = "equal")
tm_shape(metroArea) + tm_fill("singlemom_pct", style = "quantile")
tm_shape(metroArea) + tm_fill("singlemom_pct", style = "sd")
tm_shape(metroArea) + tm_fill("singlemom_pct", style = "jenks")
tm_shape(metroArea) + tm_fill("singlemom_pct", style = "fisher")
tm_shape(metroArea) + tm_fill("singlemom_pct", style = "equal")
tm_shape(metroArea) + tm_fill("singlemom_pct", style = "quantile")
tm_shape(metroArea) + tm_fill("singlemom_pct", style = "sd")
tmap_mode("plot")
tm_shape(metroArea)
tm_shape(metroArea) + tm_symbols(col = "orangered", size = "sunglemom_pct", style = "sd")
tm_shape(metroArea) + tm_symbols(col = "orangered", size = "sunglemom_pct")
tm_shape(metroArea) + tm_symbols(col = "orangered", size = "singlemom_pct")
tm_shape(metroArea) + tm_symbols(col = "orangered", size = "singlemom_pct", style = "sd")
tm_shape(metroArea) + tm_symbols(col = "orangered", size = "singlemom_pct", scale = .5)
tm_shape(metroArea) + tm_symbols(col = "orangered", size = "singlemom_pct", scale = .5, col_alpha = 0)
tm_shape(metroArea) + tm_symbols(col = "orangered", size = "singlemom_pct", scale = .5, col_alpha = .1)
tm_shape(metroArea) + tm_symbols(col = "orangered", size = "singlemom_pct", scale = .5, col_alpha = 1)
tm_shape(metroArea) + tm_symbols(col = "orangered", size = "singlemom_pct", scale = .5, lwd = 0)
tm_shape(metroArea) + tm_symbols(col = "orangered", size = "singlemom_pct", scale = .5, lwd = NA)
tm_shape(metroArea) + tm_symbols(col = "orangered", size = "singlemom_pct", scale = .5, col = NULL)
tm_shape(metroArea) + tm_symbols(col = "orangered", size = "singlemom_pct", scale = .5, col = "NULL")
tm_shape(metroArea) + tm_symbols(fill = "orangered", size = "singlemom_pct", scale = .5, col = NULL)
tm_shape(metroArea) + tm_symbols(fill = "orangered", size = "singlemom_pct", scale = .5)
tm_shape(metroArea) + tm_symbols(col = "orangered", size = "singlemom_pct", scale = .5)
tm_shape(metroArea) + tm_symbols(fill = "orangered", size = "singlemom_pct", scale = .5)
tm_shape(metroArea) + tm_symbols(col = "orangered", shape = 16, size = "singlemom_pct", scale = .5)
tm_shape(metroArea) + tm_symbols(col = "orangered", shape = 16, size = "singlemom_pct")
tm_shape(metroArea) + tm_symbols(col = "orangered", shape = 16, size = "singlemom_pct", scale = .5)
+ tm_borders("gray90")
tm_shape(metroArea) + tm_symbols(col = "orangered", shape = 16, size = "singlemom_pct", scale = .5) + tm_borders("gray90")
tm_shape(metroArea) + tm_symbols(col = "orangered", shape = 16, size = "singlemom_pct", scale = .5) + tm_borders("gray90", zindex = 100)
tm_shape(metroArea) + tm_symbols(col = "orangered", shape = 16, size = "singlemom_pct", scale = .5) + tm_borders("gray90", border.alpha = .5)
tm_shape(metroArea) + tm_symbols(col = "orangered", shape = 16, size = "singlemom_pct", scale = .5, border.apha = 0.5) + tm_borders("gray90")
tm_shape(metroArea) + tm_symbols(col = "orangered", shape = 16, size = "singlemom_pct", scale = .5, border.alpha = 0.5) + tm_borders("gray90")
tm_shape(metroArea) +  + tm_borders("gray90") + tm_symbols(col = "orangered", shape = 16, size = "singlemom_pct", scale = .5)
tm_shape(metroArea) + tm_borders("gray90") + tm_symbols(col = "orangered", shape = 16, size = "singlemom_pct", scale = .5)
tm_shape(metroArea) + tm_fill("lightgoldenrodyellow") + tm_symbols(col = "orangered", shape = 16, size = "singlemom_pct", scale = .5)
tm_shape(metroArea) + tm_fill("khaki1") + tm_symbols(col = "orangered", shape = 16, size = "singlemom_pct", scale = .5)
tm_shape(metroArea) + tm_fill("aliceblue") + tm_symbols(col = "orangered", shape = 16, size = "singlemom_pct", scale = .5)
tm_shape(metroArea) + tm_fill("aliceblue", style = "sd") + tm_symbols(col = "orangered", shape = 16, size = "singlemom_pct", scale = .5)
tm_shape(metroArea) + tm_fill("singlemom_pct", style = "sd") + tm_symbols(col = "orangered", shape = 16, size = "singlemom_pct", scale = .5)
tm_shape(metroArea) + tm_fill("aliceblue", style = "sd") + tm_symbols(col = "orangered", shape = 16, size = "singlemom_pct", scale = .5)
tm_shape(metroArea) + tm_fill("aliceblue") + tm_symbols(col = "orangered", shape = 16, size = "singlemom_pct", scale = .5)
library(tidyverse)
library(tidycensus)
library(dplyr)
library(sf)
library(tigris)
library(tmap)
library(ggplot2)
library(moments)
census_api_key("e765fd46add9ecff24174462fb36873559ba91e7")
#configure tidycensus to work with spatial data
options(tigris_use_cache = TRUE)
# grabbing a bunch of variables to try
variables <- c(
educ ="DP02_0068PE",
pop = "B01003_001E",
income = "B19001_001E",
singlemom = "B11003_016E",
internet = "B28011_002E",
noncitizen = "B05001_006E")
NYcounties <- c("Kings", "Queens", "New York", "Bronx",
"Richmond", "Westchester", "Rockland", "Putnam", "Suffolk", "Nassau")
NJcounties <- c("Bergen", "Hudson", "Passaic", "Middlesex",
"Monmouth", "Ocean", "Somerset", "Essex",
"Union", "Morris", "Sussex", "Hunterdon")
# single mom variable
NYdata <- get_acs(geography = "tract",
state = "New York",
county = NYcounties,
variables = c("B11003_016E", "B01003_001E"),
geometry = TRUE,
year = 2022,
output = "wide")
# normalizing
NYdata$singlemom_pct <- (NYdata$singlemom_count / NYdata$population) * 100 # percentage of single moms
NJdata$singlemom_pct <- (NJdata$singlemom_count / NJdata$population) * 100 # percentage of single moms
# append into one dataframe
metroArea <- rbind(NYdata, NJdata)
ls(metroArea)
# histogram for new york metro area
metroArea <- na.omit(metroArea)
hist(metroArea$singlemom_pct)
hist(metroArea$singlemom_pct, breaks = 100, main = "Single moms in NY metro area", xlab = "% of single moms per census tract")
# choropleth map of ny metro area
metroArea <- metroArea %>% filter(GEOID != 36005033400)
tm_shape(metroArea) + tm_fill("singlemom_pct", style = "jenks")
tm_shape(metroArea) + tm_fill("aliceblue") + tm_symbols(col = "orangered", shape = 16, size = "singlemom_pct", scale = .5)
tm_shape(metroArea) + tm_fill("aliceblue") + tm_symbols(col = "orangered", shape = 16, size = "singlemom_pct", scale = .25)
metroArea <- metroArea %>% filter(singlemom_pct > 15)
tmap_mode("plot")
tm_shape(metroArea) + tm_fill("aliceblue") + tm_symbols(col = "orangered", shape = 16, size = "singlemom_pct", scale = .25)
NYcounties <- c("Kings", "Queens", "New York", "Bronx",
"Richmond", "Westchester", "Rockland", "Putnam", "Suffolk", "Nassau")
NJcounties <- c("Bergen", "Hudson", "Passaic", "Middlesex",
"Monmouth", "Ocean", "Somerset", "Essex",
"Union", "Morris", "Sussex", "Hunterdon")
# single mom variable
NYdata <- get_acs(geography = "tract",
state = "New York",
county = NYcounties,
variables = c("B11003_016E", "B01003_001E"),
geometry = TRUE,
year = 2022,
output = "wide")
NJdata <- get_acs(geography = "tract",
state = "New Jersey",
county = NJcounties,
variables = c("B11003_016E", "B01003_001E"),
geometry = TRUE,
year = 2022,
output = "wide")
colnames(NYdata)[colnames(NYdata) == "B11003_016E"] = "singlemom_count"
colnames(NJdata)[colnames(NJdata) == "B11003_016E"] = "singlemom_count"
colnames(NYdata)[colnames(NYdata) == "B01003_001E"] = "population"
colnames(NJdata)[colnames(NJdata) == "B01003_001E"] = "population"
ls(NYdata)
ls(NJdata)
NYdata <- NYdata %>% select(-c(B01003_001M, B11003_016M))
NJdata <- NJdata %>% select(-c(B01003_001M, B11003_016M))
# normalizing
NYdata$singlemom_pct <- (NYdata$singlemom_count / NYdata$population) * 100 # percentage of single moms
NJdata$singlemom_pct <- (NJdata$singlemom_count / NJdata$population) * 100 # percentage of single moms
# append into one dataframe
metroArea <- rbind(NYdata, NJdata)
View(metroArea)
ls(metroArea)
# histogram for new york metro area
metroArea <- na.omit(metroArea)
# choropleth map of ny metro area
metroArea <- metroArea %>% filter(GEOID != 36005033400)
metroArea <- metroArea %>% filter(singlemom_pct > 10)
tmap_mode("plot")
tm_shape(metroArea) + tm_fill("aliceblue") + tm_symbols(col = "orangered", shape = 16, size = "singlemom_pct", scale = .25)
# get data from 2023 ACS 5-year estimates
data_race <- get_acs(geography = "state",
geometry = TRUE,
variables = race,
#state = all_states,
year = 2023,
output = "wide")
setwd("/Users/jocelyn/Documents/Pratt/612-advanced-gis/chinese-restaurants/census-data")
library(tidyverse)
library(tidycensus)
library(dplyr)
library(stringr)
library(sf)
census_api_key("e765fd46add9ecff24174462fb36873559ba91e7")
# race variables
race <- c(
asian = "B03002_006",
black = "B03002_004",
hispanic = "B03002_012",
white = "B03002_003")
# ethnicity variables
# fb = foreign born place of birth
# combo = more than one ethnicity
# for later maybe: B06004 - place of birth in the united states by race
ethnicity <- c(
asian_alone = "B02015_001E", # B02015 asian alone by selected groups
chinese = "B02015_002E",
taiwanese = "B02015_008E",
combo_asian = "B02018_001E", # B02018 asian alone or in any combination with one or more other races
combo_chinese = "B02018_002E")
place_of_birth_foreignborn <- c(
fb_asian = "B05006_047E", # B05006 place of birth for the foreign-born population
fb_eastasian = "B05006_048E",
fb_china = "B05006_049E",
fb_china_exclHKTaiwan = "B05006_050E",
fb_hongkong = "B05006_051E",
fb_taiwan = "B05006_052E")
# variable that includes all the states plus DC and Puerto Rico (PR is included in the US Foursquare data)
all_states <- c(state.abb, "DC", "PR")
# get data from 2023 ACS 5-year estimates
data_race <- get_acs(geography = "state",
geometry = TRUE,
variables = race,
#state = all_states,
year = 2023,
output = "wide")
data_ethnicity <- get_acs(geography = "state",
geometry = TRUE,
variables = ethnicity,
#state = all_states,
year = 2023,
output = "wide")
View(data_race)
# get data from 2023 ACS 5-year estimates
data_race <- get_acs(geography = "state",
geometry = FALSE,
variables = race,
#state = all_states,
year = 2023,
output = "wide")
data_ethnicity <- get_acs(geography = "state",
geometry = FALSE,
variables = ethnicity,
#state = all_states,
year = 2023,
output = "wide")
# removing the columns i don't need
# removing margin of error variables
data_race <- data_race %>% select(-c(asianM, blackM, hispanicM, whiteM))
data_ethnicity <- data_ethnicity %>% select(-c(B02015_001M, B02015_002M, B02015_008M, B02018_001M, B02018_002M))
# exports to bring into ArcGIS
write.csv(data_race, "acs2023_race_by_state.csv", row.names=FALSE)
write.csv(data_ethnicity, "acs2023_ethnicity_by_state.csv", row.names=FALSE)
View(data_ethnicity)
# race variables
race <- c(
pop = "B02001_001E",
asian = "B03002_006",
black = "B03002_004",
hispanic = "B03002_012",
white = "B03002_003")
# ethnicity variables
# fb = foreign born place of birth
# combo = more than one ethnicity
# for later maybe: B06004 - place of birth in the united states by race
ethnicity <- c(
pop = "B02001_001E",
asian_alone = "B02015_001E", # B02015 asian alone by selected groups
chinese = "B02015_002E",
taiwanese = "B02015_008E",
combo_asian = "B02018_001E", # B02018 asian alone or in any combination with one or more other races
combo_chinese = "B02018_002E")
# get data from 2023 ACS 5-year estimates
data_race <- get_acs(geography = "state",
geometry = FALSE,
variables = race,
#state = all_states,
year = 2023,
output = "wide")
data_ethnicity <- get_acs(geography = "state",
geometry = FALSE,
variables = ethnicity,
#state = all_states,
year = 2023,
output = "wide")
ls(data_race)
ls(data_ethnicity)
View(data_race)
ls(data_ethnicity)
View(data_ethnicity)
# removing the columns i don't need
# removing margin of error variables
data_race <- data_race %>% select(-c(
B02001_001M, # population moe
asianM,
blackM,
hispanicM,
whiteM))
data_ethnicity <- data_ethnicity %>% select(-c(
B02001_001M, # population moe
B02015_001M,
B02015_002M,
B02015_008M,
B02018_001M,
B02018_002M))
# exports to bring into ArcGIS
write.csv(data_race, "acs2023_race_by_state.csv", row.names=FALSE)
write.csv(data_ethnicity, "acs2023_ethnicity_by_state.csv", row.names=FALSE)
# get data from 2023 ACS 5-year estimates
data_race <- get_acs(geography = "tract",
geometry = TRUE,
variables = race,
state = all_states,
year = 2023,
output = "wide")
data_ethnicity <- get_acs(geography = "tract",
geometry = TRUE,
variables = ethnicity,
state = all_states,
year = 2023,
output = "wide")
st_write(data_race, "acs2023_race_by_tract.shp")
st_write(data_ethnicity, "acs2023_ethnicity_by_tract.shp")
setwd("/Users/jocelyn/Documents/Pratt/612-advanced-gis/chinese-restaurants/")
data <- read.csv("chinese_restaurants_cleaned.csv")
dim(data)
head(data)
ls(data)
table(data$region)
table(data$name)
ls(data)
table(data$admin_region)
table(data$country)
table(data$region[data$country == "US"])
ls(data)
table(data$region[data$country == "US"])
table(data$region)
table(data$region[data$country == "US"])
ls(data)
table(data$region[data$country == "US"])
restaurants_per_state <- table(data$region[data$country == "US"])
restaurants_table <- table(data$region[data$country == "US"])
cr_per_state <- as.data.frame(restaurants_table)
View(cr_per_state)
View(data)
library(dplyr)
# examining rows where region is NA, empty, or whitespace only
no_state <- data %>% filter(is.na(region) | trimws(region) == "")
View(no_state)
# export to csv
write.csv(cr_per_state, "ch_restaurants_per_state.csv", row.names = FALSE)
